---
apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
# https://docs.fluxcd.io/projects/helm-operator/en/stable/helmrelease-guide/release-configuration/
metadata:
  name: traefik
  namespace: kube-system
  labels:
    app.kubernetes.io/name: traefik
spec:
  helmVersion: v3
  targetNamespace: kube-system
  releaseName: traefik
  chart:
    name: traefik
    version: 8.7.0
    repository: https://containous.github.io/traefik-helm-chart/
  values:
    service:
      annotations:
        # https://www.linode.com/docs/kubernetes/deploy-nodebalancers-with-linode-ccm/#annotations
        "service.beta.kubernetes.io/linode-loadbalancer-protocol": "tcp"
    ingressRoute:
      dashboard:
        labels:
          "app.kubernetes.io/name": "traefik"
